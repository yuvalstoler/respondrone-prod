<div class="LinkedReportsTable">
  <!--Title geoInstruction-->
  <div class="TaskHeader">
    <span class="DialogTitle">Geographic instructions</span>
    <span [matMenuTriggerFor]="menu" class="DialogTask pointer">Add</span>
      <mat-menu #menu="matMenu">
        <button (click)="setSelectedInstruction(item)" *ngFor="let item of geoInstructions" mat-menu-item>
          {{ item }}
        </button>
      </mat-menu>
  </div>

  <!--List All geoInstructions-->
  <div>
    <!--<div *ngIf="element?.reports?.length <= 0" class="DialogNotElement">-->
    <!--Add geo instruction by clicking on the “Add” button.-->
    <!--</div>-->
    <mat-list-item *ngFor="let geoInstruction of geographicInstructionsModel; let i = index">
      <mat-accordion>
        <mat-expansion-panel [expanded]="false">
          <mat-expansion-panel-header>
            <div class="expendTitle">
              <mat-icon mat-list-icon>{{geoInstruction?.styles?.icon}}</mat-icon>
              <span mat-line>{{geoInstruction?.type}}</span>
            </div>
            <button (click)="removeGeoInstruction($event, i)" class='DialogButtonGeoX '>X</button>
          </mat-expansion-panel-header>
          <div class="description-content">
            <div class="description-content scroll">
              <span> Description: </span>
              {{geoInstruction?.description}}</div>
          </div>
        </mat-expansion-panel>

      </mat-accordion>
    </mat-list-item>
  </div>

  <!--add New GeoInstruction-->
  <div class="">
    <mat-accordion>
      <!--Arrow-->
      <mat-expansion-panel *ngIf="selectedGeoInstruction === GEOGRAPHIC_INSTRUCTION_TYPE.arrow"
                           [expanded]="panelOpenState">
        <mat-expansion-panel-header>
          <div class="expendTitle">
            Arrow
          </div>
        </mat-expansion-panel-header>
        <!--Description-->
        <div class="DialogContentItem">
          <div class="DialogTitle">Description</div>
          <mat-form-field appearance="outline" class="SPMatFormField">
            <label>
            <textarea [(ngModel)]="geoInstructionModel.description" [ngStyle]="{'resize': 'none'}"
                      class="Label"
                      matInput placeholder="Add your description..."
                      rows="2"></textarea>
            </label>
          </mat-form-field>
        </div>
        <!--Save Button-->
        <div class="DialogCenter">
          <div (click)="saveInstruction(selectedGeoInstruction)"
               class="DialogActionsSave">
            Save
          </div>
        </div>
      </mat-expansion-panel>
      <!--Address-->
      <mat-expansion-panel *ngIf="selectedGeoInstruction === GEOGRAPHIC_INSTRUCTION_TYPE.address"
                           [expanded]="panelOpenState">
        <mat-expansion-panel-header>
          <div class="expendTitle">
            Address
          </div>
        </mat-expansion-panel-header>
        <!--Address-->
        <div>
          <mat-form-field appearance="outline" class="LocationAddress">
            <label>
              <input [(ngModel)]="geoInstructionModel.address" class="Label" matInput
                     placeholder="E.g. Richard St."
                     type="text">
            </label>
          </mat-form-field>
        </div>
        <!--Description-->
        <div class="DialogContentItem">
          <div class="DialogTitle">Description</div>
          <mat-form-field appearance="outline" class="SPMatFormField">
            <label>
            <textarea [(ngModel)]="geoInstructionModel.description" [ngStyle]="{'resize': 'none'}"
                      class="Label"
                      matInput placeholder="Add your description..."
                      rows="2"></textarea>
            </label>
          </mat-form-field>
        </div>
        <!--Save Button-->
        <div class="DialogCenter">
          <div (click)="saveInstruction(selectedGeoInstruction)"
               class="DialogActionsSave">
            Save
          </div>
        </div>
      </mat-expansion-panel>
      <!--Point-->
      <mat-expansion-panel *ngIf="selectedGeoInstruction === GEOGRAPHIC_INSTRUCTION_TYPE.point"
                           [expanded]="panelOpenState">
        <mat-expansion-panel-header>
          <div class="expendTitle">
            Point
          </div>
        </mat-expansion-panel-header>
        <!--Location-->
        <div>
          <small>Choose location point from the map or write
            Lat/Long
          </small>
          <div class="DialogGrid22">
            <!--Lat-->
            <mat-form-field appearance="outline" class="">
              <label>
                <input (change)="locationChanged($event, 'latitude')"
                       (click)="$event.stopPropagation()" (keyup)="locationChanged($event, 'latitude')"
                       [(ngModel)]="geoInstructionModel.location.latitude"
                       class="Label"
                       matInput
                       min="0"
                       placeholder="Lat"
                       type="number">
              </label>
            </mat-form-field>
            <!--Long-->
            <mat-form-field appearance="outline" class="">
              <label>
                <input (change)="locationChanged($event, 'longitude')"
                       (click)="$event.stopPropagation()"
                       (keyup)="locationChanged($event, 'longitude')"
                       [(ngModel)]="geoInstructionModel.location.longitude"
                       class="Label"
                       matInput
                       min="0"
                       placeholder="Long"
                       type="number">
              </label>
            </mat-form-field>
          </div>
        </div>
        <!--Description-->
        <div class="DialogContentItem">
          <div class="DialogTitle">Description</div>
          <mat-form-field appearance="outline" class="SPMatFormField">
            <label>
            <textarea [(ngModel)]="geoInstructionModel.description" [ngStyle]="{'resize': 'none'}"
                      class="Label"
                      matInput placeholder="Add your description..."
                      rows="2"></textarea>
            </label>
          </mat-form-field>
        </div>
        <!--Save Button-->
        <div class="DialogCenter">
          <div (click)="saveInstruction(selectedGeoInstruction)"
               class="DialogActionsSave">
            Save
          </div>
        </div>
      </mat-expansion-panel>
      <!--Polygon-->
      <mat-expansion-panel *ngIf="selectedGeoInstruction === GEOGRAPHIC_INSTRUCTION_TYPE.polygon"
                           [expanded]="panelOpenState">
        <mat-expansion-panel-header>
          <div class="expendTitle">
            Polygon
          </div>
        </mat-expansion-panel-header>
        <!--Description-->
        <div class="DialogContentItem">
          <div class="DialogTitle">Description</div>
          <mat-form-field appearance="outline" class="SPMatFormField">
            <label>
            <textarea [(ngModel)]="geoInstructionModel.description" [ngStyle]="{'resize': 'none'}"
                      class="Label"
                      matInput placeholder="Add your description..."
                      rows="2"></textarea>
            </label>
          </mat-form-field>
        </div>
        <!--Save Button-->
        <div class="DialogCenter">
          <div (click)="saveInstruction(selectedGeoInstruction)"
               class="DialogActionsSave">
            Save
          </div>
        </div>
      </mat-expansion-panel>
      <!--Polyline-->
      <mat-expansion-panel *ngIf="selectedGeoInstruction === GEOGRAPHIC_INSTRUCTION_TYPE.polyline"
                           [expanded]="panelOpenState">
        <mat-expansion-panel-header>
          <div class="expendTitle">
            Polyline
          </div>
        </mat-expansion-panel-header>
        <!--Description-->
        <div class="DialogContentItem">
          <div class="DialogTitle">Description</div>
          <mat-form-field appearance="outline" class="SPMatFormField">
            <label>
            <textarea [(ngModel)]="geoInstructionModel.description" [ngStyle]="{'resize': 'none'}"
                      class="Label"
                      matInput placeholder="Add your description..."
                      rows="2"></textarea>
            </label>
          </mat-form-field>
        </div>
        <!--Save Button-->
        <div class="DialogCenter">
          <div (click)="saveInstruction(selectedGeoInstruction)"
               class="DialogActionsSave">
            Save
          </div>
        </div>
      </mat-expansion-panel>
    </mat-accordion>
  </div>
</div>

