<mat-accordion>
  <div class="AirResourcesContainer scroll">
    <div *ngFor="let airVehicle of airVehicleService.airVehicles.data | sortByPriority: optionSelected">
      <div [ngStyle]="{ 'grid-template-rows': isOpenMenu[airVehicle.id] ? '25px 25px 25px 7px 25px 25px' : '25px 25px 25px'}"
           class="gridAirResources" (click)="flyTo(airVehicle)">
        <!--title-->
        <div class="item1 title">{{airVehicle.name}}</div>
        <!--icons expend & 3 dotes-->
        <div class="item2">
          <mat-icon (click)="onCloseMenu($event, airVehicle.id)" *ngIf="isOpenMenu[airVehicle.id]">keyboard_arrow_up</mat-icon>
          <mat-icon (click)="onOpenMenu($event, airVehicle.id)" *ngIf="!isOpenMenu[airVehicle.id]">keyboard_arrow_down</mat-icon>
          <!-- 3 dotes-->
          <mat-icon matRipple *ngIf="!this.applicationService.isDialogOpen"
                    (click)="$event.stopPropagation();"
                    [ngStyle]="{'cursor': 'pointer'}"
                    [matMenuTriggerFor]="missionOptions"
          >more_vert</mat-icon>
          <mat-icon matRipple *ngIf="this.applicationService.isDialogOpen" [ngStyle]="{'cursor': 'no-drop'}">more_vert</mat-icon>
          <!--Menu mission Options-->
          <mat-menu #missionOptions="matMenu">
            <button mat-menu-item *ngIf="airVehicle.missionOptions.CommRelay === true"
                    (click)="onMissionOptions(MISSION_TYPE.CommRelay, airVehicle)">
              <span>Create comm mission</span>
            </button>
            <button mat-menu-item *ngIf="airVehicle.missionOptions.Patrol === true"
                    (click)="onMissionOptions(MISSION_TYPE.Patrol, airVehicle)">
              <span>Create patrol mission</span>
            </button>
            <button mat-menu-item *ngIf="airVehicle.missionOptions.Observation === true"
                    (click)="onMissionOptions(MISSION_TYPE.Observation, airVehicle)">
              <span>Create observation mission</span>
            </button>
            <button mat-menu-item *ngIf="airVehicle.missionOptions.Scan === true"
                    (click)="onMissionOptions(MISSION_TYPE.Scan, airVehicle)">
              <span>Create scan mission</span>
            </button>
            <button mat-menu-item *ngIf="airVehicle.missionOptions.Delivery === true"
                    (click)="onMissionOptions(MISSION_TYPE.Delivery, airVehicle)">
              <span>Cargo drop mission</span>
            </button>
            <button mat-menu-item *ngIf="airVehicle.missionOptions.Servoing === true"
                    (click)="onMissionOptions(MISSION_TYPE.Servoing, airVehicle)">
              <span>Follow an entity mission</span>
            </button>
            <button mat-menu-item (click)="onViewLiveVideo(airVehicle)">
              <span>View live video</span>
            </button>
          </mat-menu>
        </div>
        <!--mission-->
        <div class="item3">
          <span class="title">Mission: </span> {{airVehicle.missionName}}
        </div>
        <!--status-->
        <div class="item4">
        <span [ngStyle]="{'color': airVehicle.modeDefine?.styles?.statusColor, 'font-size': '12px'}"
              class="material-icons">stop_circle</span>
          {{airVehicle.operationalStatus}}
        </div>
        <!--TTL-->
        <div class="item5">
          <span class="title">TTL: </span> {{airVehicle.remainingTimeFlight}}
        </div>
        <!--Alt-->
        <div class="item6">
          <span class="title">Alt: </span> {{airVehicle.altitudeAGL}}
        </div>
        <!--Speed-->
        <div class="item7">
          <span class="title">Speed: </span> {{airVehicle.velocity}} m/s
        </div>
        <div class="item8"></div>
        <!--------------------- Expend Panel ----------------->
        <!--Alt ASL-->
        <div *ngIf="isOpenMenu[airVehicle.id]" class="item9">
          <span class="title">Alt ASL: </span> {{airVehicle.altitudeAsl}}
        </div>
        <!--Energy-->
        <div *ngIf="isOpenMenu[airVehicle.id]" class="item10">
          <span class="title">Energy: </span> {{airVehicle.energyLevel}}
        </div>
        <!--GPS-->
        <div *ngIf="isOpenMenu[airVehicle.id]" class="item11">
          <img class="gpsIcon" [src]="airVehicle?.modeDefine?.styles?.gpsIcon" alt="gps">
        </div>
        <!--Azimuth-->
        <div *ngIf="isOpenMenu[airVehicle.id]" class="item12">
          <span class="title">Azimuth: </span> {{airVehicle.heading}}Â°
        </div>
        <!--Status line-->
        <div class="colorDiv" [ngStyle]="{'background-color': airVehicle?.modeDefine?.styles?.statusColor}"></div>
      </div>
    </div>
  </div>
</mat-accordion>

